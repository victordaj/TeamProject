(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{74:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(44),s=a(2),r=a(0),c=a.n(r),i=a(7),o=a.n(i),h=(a(74),a(9)),l=a(10),u=a(12),j=a(11),d=a(15),p=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={firstName:"",lastName:"",password:"",email:"",birthday:""},e.onChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.submitForm=function(){e.props.onCreate({firstName:e.state.firstName,lastName:e.state.lastName,password:e.state.password,email:e.state.email,birthday:new Date(e.state.birthday)})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"firstName",type:"text",onChange:this.onChange,value:this.state.firstName,placeholder:"Please enter your firstname"})}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"lastName",type:"text",onChange:this.onChange,value:this.state.lastName,placeholder:"Please enter your lastname"})}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"email",type:"text",onChange:this.onChange,value:this.state.email,placeholder:"Please enter your email address"})}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"password",type:"password",onChange:this.onChange,value:this.state.password,placeholder:"Enter a password"})}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"birthday",type:"date",onChange:this.onChange,value:this.state.date,placeholder:"Enter your birthday date"})}),Object(s.jsx)("button",{onClick:this.submitForm,children:"Submit"})]})}}]),a}(c.a.Component),b=a(131),m=a(135),g=a(134),O=a(127),f=a(132),x=a(133),w=a(138),v=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={rowsPerPage:5,page:0},e.handleChangePage=function(t,a){e.setState({page:a})},e.handleChangeRowsPerPage=function(t){e.setState({rowsPerPage:t.target.value})},e.formatDate=function(e){return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.page,n=t.rowsPerPage;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Users:"}),Object(s.jsx)(O.a,{children:Object(s.jsxs)(b.a,{"aria-label":"customized table",children:[Object(s.jsx)(f.a,{children:Object(s.jsxs)(x.a,{children:[Object(s.jsx)(g.a,{children:"First Name"}),Object(s.jsx)(g.a,{align:"right",children:"Last Name"}),Object(s.jsx)(g.a,{align:"right",children:"Email"}),Object(s.jsx)(g.a,{align:"right",children:"Birthday"}),Object(s.jsx)(g.a,{align:"right",children:"isActive"}),Object(s.jsx)(g.a,{align:"right",children:"Delete"}),Object(s.jsx)(g.a,{align:"right",children:"Update"}),Object(s.jsx)(g.a,{align:"right",children:"Check Items"})]})}),Object(s.jsx)(m.a,{children:this.props.list.length>0?this.props.list.slice(a*n,a*n+n).map((function(t){return Object(s.jsxs)(x.a,{children:[Object(s.jsx)(g.a,{component:"th",scope:"user",children:t.firstName}),Object(s.jsx)(g.a,{align:"right",children:t.lastName}),Object(s.jsx)(g.a,{align:"right",children:t.email}),Object(s.jsx)(g.a,{align:"right",children:e.formatDate(new Date(t.birthday))}),Object(s.jsx)(g.a,{align:"right",children:t.isActive.toString()}),Object(s.jsx)(g.a,{align:"right",children:Object(s.jsx)("button",{onClick:function(){return e.props.onDelete(t._id)},children:" Delete "})}),Object(s.jsx)(g.a,{align:"right",children:Object(s.jsx)("button",{onClick:function(){return e.props.onUpdate(t._id)},children:" Update "})}),Object(s.jsx)(g.a,{align:"right",children:Object(s.jsx)("button",{onClick:function(){return e.props.onCheck(t._id)},children:" Check Items "})})]},t.firstName)})):"No users found"})]})}),Object(s.jsx)(w.a,{rowsPerPageOptions:[5,10,25],component:"div",count:this.props.list.length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})]})}}]),a}(c.a.Component),C=a(55),y=a.n(C).a.create({baseURL:"http://localhost:8000",withCredentials:!0}),P=a(21),I=Object(P.a)(),D=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={userInput:[]},e.error=function(e){console.log(e),alert("Error")},e.getUsers=function(){y.get("/users/").then((function(t){e.setState({userInput:t.data})})).catch((function(t){e.error(t)}))},e.deleteUser=function(t){window.confirm("Are you sure?")&&y.delete("/users/"+t,{isActive:!1}).then((function(){e.getUsers()})).catch((function(t){e.error(t)}))},e.createUser=function(t){t.firstName&&t.lastName&&t.password&&t.birthday?y.post("/users",t).then((function(){e.getUsers()})).catch((function(t){e.error(t)})):alert("Please complete all the fields")},e.updateUser=function(e){I.push("/users/"+e)},e.checkItems=function(e){I.push("/users/"+e+"/items/")},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(p,{onCreate:this.createUser}),Object(s.jsx)(v,{list:this.state.userInput,onDelete:this.deleteUser,onUpdate:this.updateUser,onCheck:this.checkItems})]})}}]),a}(c.a.Component),N=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"App",children:"Home Page"})}}]),a}(c.a.Component),k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,139)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))},S=a(137),U=a(38),F=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={firstName:"",lastName:"",password:"",birthday:"",email:"",formattedDate:""},e.getUser=function(t){y.get("/users/"+t).then((function(t){e.setState(Object(U.a)({},t.data)),e.formatDate(new Date(e.state.birthday))})).catch((function(e){console.log("eroare")}))},e.onChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.formatDate=function(t){var a=t.toISOString().substr(0,10);e.setState({formattedDate:a})},e.submitForm=function(){e.state.firstName&&e.state.lastName&&e.state.password&&e.state.birthday?y.put("/users/"+e.props.match.params.id,{firstName:e.state.firstName,lastName:e.state.lastName,password:e.state.password,email:e.state.email,birthday:new Date(e.state.birthday)}).then((function(){alert("User succesfully updated!"),I.push("/users")})).catch((function(e){console.log(e)})):alert("Please complete all the fields!")},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;console.log(e),this.getUser(e)}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"firstName",type:"text",value:this.state.firstName,onChange:this.onChange})}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"lastName",type:"text",value:this.state.lastName,onChange:this.onChange})}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"email",type:"text",value:this.state.email,onChange:this.onChange})}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"password",type:"text",placeholder:"New password",onChange:this.onChange})}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"birthday",type:"date",defaultValue:this.state.formattedDate,onChange:this.onChange})}),Object(s.jsx)("button",{onClick:this.submitForm,children:"Submit"})]})}}]),a}(c.a.Component),A=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={name:"",description:"",userID:""},e.onChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.submitForm=function(){e.props.onCreate({name:e.state.name,description:e.state.description,userID:e.props.id})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Create Items"}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"name",type:"text",onChange:this.onChange,value:this.state.name,placeholder:"Please enter item name"})}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"description",type:"text",onChange:this.onChange,value:this.state.description,placeholder:"Please enter item description"})}),Object(s.jsx)("button",{onClick:this.submitForm,children:"Submit"})]})}}]),a}(c.a.Component),R=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Items list: "}),Object(s.jsx)(O.a,{children:Object(s.jsxs)(b.a,{"aria-label":"customized table",children:[Object(s.jsx)(f.a,{children:Object(s.jsxs)(x.a,{children:[Object(s.jsx)(g.a,{children:"Item"}),Object(s.jsx)(g.a,{children:"Description"}),Object(s.jsx)(g.a,{children:"Update"}),Object(s.jsx)(g.a,{children:"Delete"})]})}),Object(s.jsx)(m.a,{children:this.props.list.length>0?this.props.list.map((function(t){return Object(s.jsxs)(x.a,{children:[Object(s.jsx)(g.a,{component:"th",scope:"item",children:t.name}),Object(s.jsx)(g.a,{children:t.description}),Object(s.jsx)(g.a,{children:Object(s.jsx)("button",{onClick:function(){return e.props.onUpdate(t._id)},children:"Update"})}),Object(s.jsx)(g.a,{children:Object(s.jsx)("button",{onClick:function(){return e.props.onDelete(t._id)},children:"Delete"})})]},t._id)})):"No items found"})]})}),Object(s.jsx)(w.a,{rowsPerPageOptions:[5,10,25],component:"div",count:this.props.count,rowsPerPage:this.props.rowsPerPage,page:parseInt(this.props.page),onChangePage:this.props.action,onChangeRowsPerPage:this.props.action1})]})}}]),a}(c.a.Component),M=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={name:""},e.onChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.submitForm=function(){e.props.onSubmit(e.state.name)},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Search Items"}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"name",type:"text",onChange:this.onChange,value:this.state.name,placeholder:"Search item by name or description"})}),Object(s.jsx)("button",{onClick:this.submitForm,children:"Search"})]})}}]),a}(c.a.Component),E=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).formatDate=function(e){return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:this.props.user.firstName}),Object(s.jsx)("p",{children:this.props.user.lastName}),Object(s.jsx)("p",{children:this.formatDate(new Date(this.props.user.birthday))})]})}}]),a}(c.a.Component),_={display:"flex",justifyContent:"space-between"},L=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={items:[],user:[],count:0,page:0,rowsPerPage:5,ItemRows:0},e.getUID=function(){return e.props.match.params.id},e.error=function(e){console.log(e),alert("Error")},e.getItems=function(t,a,n){y.get("/users/"+t+"/items/?page="+a+"&rows="+n).then((function(t){console.log(t),e.setState({items:t.data[1],count:t.data[0].length,user:t.data[2]})})).catch((function(t){e.error(t)}))},e.getSearchedItems=function(t){y.get("/users/"+e.getUID()+"/items/search/"+t).then((function(t){e.setState({items:t.data})})).catch((function(t){e.error(t)}))},e.deleteItem=function(t){window.confirm("Are you sure?")&&y.delete("/users/"+e.getUID()+"/items/"+t).then((function(){e.getItems(e.getUID(),e.state.page,e.state.rowsPerPage)})).catch((function(t){e.error(t)}))},e.createItem=function(t){t.name&&t.description?y.post("/users/"+e.getUID()+"/items",t).then((function(){e.getItems(e.getUID(),e.state.page,e.state.rowsPerPage)})).catch((function(t){e.error(t)})):alert("Please complete all the fields")},e.updateItem=function(t){I.push("/users/"+e.getUID()+"/items/"+t)},e.submitSearch=function(t){e.getSearchedItems(t),e.setState({count:e.state.items.length})},e.handleChangePage=function(t,a){e.setState({page:a},(function(){var t=e.state.page>0?e.state.rowsPerPage*a:e.state.ItemRows;e.getItems(e.getUID(),t,e.state.rowsPerPage)}))},e.handleChangeRowsPerPage=function(t){e.setState({rowsPerPage:t.target.value},(function(){e.getItems(e.getUID(),e.state.page,e.state.rowsPerPage)}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getItems(this.getUID(),this.state.page,this.state.rowsPerPage)}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{style:_,children:[Object(s.jsx)(A,{onCreate:this.createItem}),Object(s.jsx)(E,{user:this.state.user}),Object(s.jsx)(M,{onSubmit:this.submitSearch})]}),Object(s.jsx)(R,{list:this.state.items,count:this.state.count,page:this.state.page,rowsPerPage:this.state.rowsPerPage,onDelete:this.deleteItem,onUpdate:this.updateItem,action:this.handleChangePage,action1:this.handleChangeRowsPerPage})]})}}]),a}(c.a.Component),T=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={name:"",description:""},e.getUID=function(){return e.props.match.params.id},e.getIID=function(){return e.props.match.params.item_id},e.getItem=function(){y.get("/users/"+e.getUID()+"/items/"+e.getIID()).then((function(t){e.setState(Object(U.a)({},t.data))})).catch((function(e){console.log("eroare")}))},e.onChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.submitForm=function(){e.state.name&&e.state.description?y.put("/users/"+e.getUID()+"/items/"+e.getIID(),{name:e.state.name,description:e.state.description}).then((function(){alert("Item succesfully updated"),I.push("/users/"+e.getUID()+"/items")})).catch((function(e){console.log(e)})):alert("Please complete all the fields")},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getItem(this.getIID())}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"name",type:"text",onChange:this.onChange,value:this.state.name})}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"description",type:"text",onChange:this.onChange,value:this.state.description})}),Object(s.jsx)("button",{onClick:this.submitForm,children:"Submit"})]})}}]),a}(c.a.Component),z=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={firstName:"",oldPassword:"",newPassword:"",newPasswordRepeat:""},e.getUsers=function(){y.get("/reset/").then((function(t){e.setState({users:t.data})})).catch((function(e){console.log("eroare")}))},e.onChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.submitForm=function(){console.log("State: ",e.state),e.state.firstName&&e.state.oldPassword&&e.state.newPassword&&e.state.newPasswordRepeat?e.state.newPassword===e.state.newPasswordRepeat?y.put("/reset/"+e.state.firstName,{password:e.state.newPassword}).then((function(){alert("Password succesfully reseted"),I.push("/login")})).catch((function(e){console.log(e)})):alert("Check new password"):alert("Please complete all the fields")},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"firstName",type:"text",value:this.state.firstName,onChange:this.onChange,placeholder:"First Name"})}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"oldPassword",type:"text",value:this.state.lastName,onChange:this.onChange,placeholder:"Old Password"})}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"newPassword",type:"text",value:this.state.password,onChange:this.onChange,placeholder:"New Password"})}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"newPasswordRepeat",type:"text",value:this.state.newPasswordRepeat,onChange:this.onChange,placeholder:"New Password Repeat"})}),Object(s.jsx)("button",{onClick:this.submitForm,children:"Submit"})]})}}]),a}(c.a.Component),B=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={firstName:"",lastName:"",password:""},e.onChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.submitForm=function(){e.state.firstName&&e.state.password?(console.log(e.state),y.post("/login",{firstName:e.state.firstName,password:e.state.password}).then((function(e){console.log("Here it is:",e),e.data.password?(alert("Succesful login!"),window.location.href="/users"):alert("Invalid credentials!")})).catch((function(e){console.log(e),alert("Error")}))):alert("Please complete all fields!")},e.goToPage=function(){I.push("/resetPassword")},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"firstName",type:"text",onChange:this.onChange,value:this.state.firstName,placeholder:"First name"})}),Object(s.jsx)("p",{children:Object(s.jsx)("input",{name:"password",type:"password",onChange:this.onChange,value:this.state.password,placeholder:"Password"})}),Object(s.jsx)("button",{onClick:this.submitForm,children:"Login"}),Object(s.jsx)("button",{onClick:this.goToPage,children:"ResetPassword"})]})}}]),a}(c.a.Component),H=a(136),J=a(56),Y=Object(J.a)({overrides:{MuiTableCell:{head:{backgroundColor:"black",color:"white"},body:{fontSize:14}},MuiTableRow:{root:{"&:nth-of-type(odd)":{backgroundColor:"hover"}}}}}),V=function(){var e=Object(r.useState)(!1),t=Object(n.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)(!1),o=Object(n.a)(i,2),h=o[0],l=o[1];return Object(r.useEffect)((function(){y.get("/isLogged").then((function(){c(!0),l(!0)})).catch((function(){c(!0),l(!1)}))}),[]),a?Object(s.jsx)(H.a,{theme:Y,children:Object(s.jsx)(S.b,{history:I,children:h?Object(s.jsxs)(S.c,{children:[Object(s.jsx)(S.a,{exact:!0,path:"/",component:N}),Object(s.jsx)(S.a,{exact:!0,path:"/users",component:D}),Object(s.jsx)(S.a,{exact:!0,path:"/users/:id",component:F}),Object(s.jsx)(S.a,{exact:!0,path:"/users/:id/items/",component:L}),Object(s.jsx)(S.a,{exact:!0,path:"/users/:id/items/:item_id",component:T})]}):Object(s.jsxs)(S.c,{children:[Object(s.jsx)(S.a,{exact:!0,path:"/login",component:B}),Object(s.jsx)(S.a,{exact:!0,path:"/resetPassword",component:z})]})})}):null};o.a.render(Object(s.jsx)(V,{}),document.getElementById("root")),k()}},[[97,1,2]]]);
//# sourceMappingURL=main.24f459e7.chunk.js.map